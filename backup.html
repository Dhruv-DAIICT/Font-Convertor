<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Font Convertor : Unicode to B Bharati</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            font-family: Arial, sans-serif;
        }

        .container {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        textarea {
            width: 250px;
            height: 150px;
            resize: vertical;
        }

        .preview {
            width: 250px;
            height: 150px;
            border: 1px solid #ccc;
            padding: 10px;
            font-family: 'TitleTwo', sans-serif;
            overflow-y: auto;
        }

        button {
            padding: 10px 20px;
            cursor: pointer;
        }
    </style>
</head>

<body>
    <div class="container">
        <textarea id="inputText" placeholder="Type Unicode text here..."></textarea>
        <button onclick="convertText()">Convert</button>
        <textarea id="outputText" readonly></textarea>
        <div id="previewText" class="preview"></div>
    </div>

    <script>
        const ligatureMap = {

            "ક્ર": "¢", "ખ્ર": "¾ú", "ગ્ર": "„ú", "ઘ્ર": "½ú", "ચ્ર": "[ú", "છ્ર": "AÙ",
            "જ્ર": "@", "ઝ્ર": "C", "ટ્ર": "xÙ", "ઠ્ર": "XÙ", "ડ્ર": "zÙ", "ઢ્ર": "ZÙ",
            "ત્ર": "ºk", "થ્ર": "Úkú", "દ્ર": "ÿ", "ધ્ર": "Äú", "ન્ર": "™ú", "પ્ર": "«",
            "ફ્ર": "£", "બ્ર": "ƒú", "ભ્ર": "¼ú", "મ્ર": "{ú", "ય્ર": "Þú", "લ્ર": "÷ú",
            "વ્ર": "ðú", "શ્ર": "©", "ષ્ર": "»h", "સ્ર": "²k", "હ્ર": "´",

            "ક્ય": "õâ", "ખ્ય": "ÏÞ", "ગ્ય": "øÞ", "ઘ્ય": "ÎÞ", "ચ્ય": "åÞ", "છ્ય": "Aâ",
            "જ્ય": "ßÞ", "ઝ્ય": "Íâ", "ટ્ય": "xâ", "ઠ્ય": "Xâ", "ડ્ય": "zâ", "ઢ્ય": "Zâ",
            "ત્ય": "íÞ", "થ્ય": "ÚÞ", "દ્ય": "ã", "ધ્ય": "æÞ", "ન્ય": "LÞ", "પ્ય": "ÃÞ",
            "ફ્ય": "^Þ", "બ્ય": "çÞ", "ભ્ય": "ÇÞ", "મ્ય": "BÞ", "લ્ય": "ÕÞ", "વ્ય": "ÔÞ",
            "શ્ય": "~Þ", "ષ્ય": "»Þ", "સ્ય": "MÞ", "હ્ય": "Ìk", "ય્ય": "GÞ", "ત્ય્ય": "íGÞ",

            "ક્લ": "õ÷", "ખ્લ": "Ï÷", "ગ્લ": "ø÷", "ઘ્લ": "Î÷", "ચ્લ": "å÷", "છ્લ": "AT÷",
            "જ્લ": "ß÷", "ઝ્લ": "ÍT÷", "ટ્લ": "xT÷", "ઠ્લ": "XT÷", "ડ્લ": "zT÷", "ઢ્લ": "ZT÷",
            "ત્લ": "í÷", "થ્લ": "Ú÷", "દ્લ": "ËT÷", "ધ્લ": "æ÷", "ન્લ": "L÷", "પ્લ": "Ã÷",
            "ફ્લ": "^÷", "બ્લ": "ç÷", "ભ્લ": "Ç÷", "મ્લ": "B÷", "ય્લ": "G÷", "લ્લ": "Õ÷",
            "વ્લ": "Ô÷", "શ્લ": "&÷", "ષ્લ": "»÷", "સ્લ": "M÷", "હ્લ": "F",

            "ક્વ": "õð", "ખ્વ": "Ïð", "ગ્વ": "øð", "ઘ્વ": "Îð", "ચ્વ": "åð", "છ્વ": "ATð",
            "જ્વ": "ßð", "ઝ્વ": "ÍTð", "ટ્વ": "xTð", "ઠ્વ": "XTð", "ડ્વ": "zTð", "ઢ્વ": "ZTð",
            "ત્વ": "íð", "થ્વ": "Úð", "દ્વ": "î", "ધ્વ": "æð", "ન્વ": "Lð", "પ્વ": "Ãð",
            "ફ્વ": "^ð", "બ્વ": "çð", "ભ્વ": "Çð", "મ્વ": "Bð", "લ્વ": "Õð", "વ્વ": "Ôð",
            "શ્વ": "ï", "ષ્વ": "»ð", "સ્વ": "Mð", "હ્વ": "b",

            "ષ્ણ": "»ý", "ર્ણ": "ýo", "ણ્ય": "ÛÞ", "ળ્ય": "éÞ", "ળ્વ": "éð", "ળ્ર": "¤ú",
            "ર્મ": "}o", "ર્શ": "þo", "ર્ષ": "»ko", "જ્ઞ": "¿k",
            "ર્સ": "‚o", "ર્હ": "no", "ક્ત": "õŒ", "ક્શ": "õþ", "ક્ષ": "ûk", "સ્થ": "MÚk", 
            "સ્ત્ર": "Mºk", "સ્તુ": "MŒw", "સ્ત્રિ": "ÂMºk", "ત્ત": "¥k", "ત્થ": "íÚk", "ત્ન": "J", 
            "ત્મ": "í{", "ત્સ": "í‚", "ત્શ": "íþ", "ન્દ": "LË", "ન્મ": "L{", "ન્ધ": "LÄ", 
            "ન્હ": "Ln", "ન્ગ": "L„", "ન્ઝ": "LÍ", "ન્ત": "LŒ", "ન્થ": "LÚk", "મ્ન": "B™",
            "મ્મ": "B{", "મ્ભ": "B¼", "મ્વ": "Bð", "પ્ત": "ó", "પ્ન": "¡", "પ્મ": "Ã{", 
            "લ્પ": "Õ…", "લ્ક": "Õf", "લ્ત": "ÕŒ", "લ્ગ": "Õ„", "લ્ફ": "ÕV", "લ્ભ": "Õ¼", 
            "શ્ચ": "ù", "શ્ન": "§", "શ્મ": "~{", "ષ્ક": "»f", "ષ્પ": "»…", "વ્ત": "ÔŒ", 
            "વ્થ": "ÔÚk", "વ્દ": "ÔË", "વ્ન": "Ô™", "વ્મ": "Ô{", "હ્દ": "nTË", "હ્ન": "ö",
            "હ્મ": "ñ", "હ્ર": "´", "હ્વ": "b", "હૃ": "Ó", "ક્લ": "õ÷", "ક્ત": "õŒ", "ક્ન": "õ™",
            "ક્મ": "õ}", "ક્શ": "õþ", "ગ્ન": "ø™", "ગ્મ": "ø}", "ગ્દ": "øË", "ગ્બ": "øƒ",
            "ગ્લ": "ø÷", "ત્ત": "¥k", "ત્થ": "íÚk", "ત્સ": "í‚", "ત્શ": "íþ", "ત્વ": "íð", 
            "ત્ન": "J", "ત્મ": "í}", "દ્ભ": "K", "દ્મ": "È", "દ્ન": "ËT™", "દ્વ": "î", 
            "ન્દ": "LË", "ન્મ": "L}", "ન્ધ": "LÄ", "ન્હ": "Ln", "પ્ત": "ó", "પ્ન": "¡",
            "પ્મ": "Ã}", "પ્લ": "Ã÷", "મ્ન": "B™", "મ્મ": "B}", "મ્ભ": "B¼", "મ્વ": "Bð", 
            "લ્ક": "Õf", "લ્ગ": "Õ„", "લ્ફ": "ÕV", "લ્ભ": "Õ¼", "લ્ત": "ÕŒ", "વ્ત": "ÔŒ", 
            "વ્થ": "ÔÚk", "વ્દ": "ÔË", "વ્ન": "Ô™", "વ્મ": "Ô}", "શ્ચ": "ù", "શ્ન": "§", 
            "શ્મ": "~{", "ષ્ક": "»f", "ષ્પ": "»…", "હ્દ": "nTË", "હ્ન": "ö", "હ્મ": "ñ", 
            "હ્ર": "´", "હ્વ": "b", "જી": "S", "સ્ત્ર": "Mºk", "નૈ": "™i", "દ્ધ  ": "Ø", 
            "રૂ ": "Y ", "રુ": "Á", "ર્ક": "fo", "ર્ખ": "¾o", "ર્ગ": "„o", "ર્ઘ": "½o",
            "ર્ચ": "[o", "ર્ઝ": "Ío", "ર્ટ": "xo", "ર્ઠ": "Xo", "ર્ડ": "zo", "ર્ઢ": "Zo", 
            "ર્ણ": "ýo", "ર્ત": "Œo", "ર્થ": "Úko", "ર્દ": "Ëo", "ર્ધ": "Äo", "ર્ન": "™o",
            "ર્પ": "…o", "ર્ફ": "Vo", "ર્બ": "ƒo", "ર્ભ": "¼o", "ર્મ": "{o", "ર્ય": "Þo", 
            "ર્લ": "÷o", "ર્વ": "ðo", "ર્ષ": "»ko", "ર્હ": "no", "જા" : "ò", "ન્ન" : "Òk"

        };

        const unicodeToBBharati = {
            "અ": "y", "આ": "yk", "ઇ": "R", "ઈ": "E", "ઉ": "W", "ઊ": "Q",
            "ઋ": "É", "ૠ": "}", "એ": "yu", "ઐ": "yi", "ઓ": "yku", "ઔ": "yki",
            "ક": "f", "ખ": "¾", "ગ": "„", "ઘ": "½", "ઙ": "Ê", "ચ": "[",
            "છ": "A", "જ": "s", "ઝ": "Í", "ઞ": "Åk", "ટ": "x", "ઠ": "X",
            "ડ": "z", "ઢ": "Z", "ણ": "ý", "ત": "Œ", "થ": "Úk", "દ": "Ë",
            "ધ": "Ä", "ન": "™", "પ": "…", "ફ": "V", "બ": "ƒ", "ભ": "¼",
            "મ": "{", "ય": "Þ", "ર": "h", "લ": "÷", "વ": "ð", "શ": "þ",
            "ષ": "»k", "સ": "‚", "હ": "n", "ળ": "¤", "ા": "k", "િ": "r", "ી": "e",
            "ુ": "w", "ૂ": "q", "ૃ": "]", "ૄ": "ì", "ૅ": "u", "ે": "u",
            "ૈ": "i", "ૉ": "ku", "ો": "ku", "ૌ": "t", "ં": "t", "ઃ": "P",
            "ઁ": "0", "૦": "1", "૧": "2", "૨": "3", "૩": "4", "૪": "5",
            "૫": "6", "૬": "7", "૭": "8", "૮": "9", "૯": "H", "ૐ": "૰",
            "૰": "૱", "૱": ">", "।": ">>", "॥": "ૺ", "ૺ": "ૻ", "ૼ": "૽"
        };

        function convertText() {
            let input = document.getElementById("inputText").value;

            for (let ligature in ligatureMap) {
                if (input.includes(ligature + "િ")) {
                    input = input.replaceAll(ligature + "િ", "r" + ligatureMap[ligature]);
                }
            }

            for (let ch in unicodeToBBharati) {
                if (input.includes(ch + "િ")) {
                    input = input.replaceAll(ch + "િ", "r" + unicodeToBBharati[ch]);
                }
            }


            for (let ligature in ligatureMap) {
                input = input.replaceAll(ligature, ligatureMap[ligature]);
            }

            let output = "";
            let temp = "";
            let i = 0;

            while (i < input.length) {
                let ch = input[i];
                let mappedChar = unicodeToBBharati[ch] || ch;

                if ("િ" == ch) {
                    temp = mappedChar + temp;
                    //output = output.slice(0, -1) +mappedChar + output.slice(-1) ;
                }
                else if ("િીુૂૃૄૅેૈૉોૌ".includes(ch)) { //ીુૂૃૄૅેૈૉોૌ   િીુૂૃૄૅેૈૉોૌ
                    temp = mappedChar + temp;
                } else {
                    output += temp + mappedChar;
                    temp = "";
                }
                i++;
            }
            output += temp;

            document.getElementById("outputText").value = output;
            document.getElementById("previewText").textContent = output;
        }
    </script>
</body>

</html>